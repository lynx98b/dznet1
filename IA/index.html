<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="G√©n√©rateur de prompt pour contenu HTML enfant - Version professionnelle">
    <title>G√©n√©rateur Prompt Contenu Enfant - v1.005</title>
    <style>
        /* ===== VARIABLES & RESET ===== */
        :root {
            --primary: #4A90E2;
            --success: #27AE60;
            --warning: #F39C12;
            --danger: #E74C3C;
            --info: #3498DB;
            --bg-light: #F8F9FA;
            --text-dark: #2C3E50;
            --border: #DFE6E9;
            --shadow: rgba(0,0,0,0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-dark);
        }
        
        /* ===== CONTENEUR PRINCIPAL ===== */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        /* ===== HEADER ===== */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, #357ABD 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        header h1 {
            font-size: 26px;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 14px;
            opacity: 0.95;
        }
        
        .version-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .help-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--warning);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .help-btn:hover {
            background: #E67E22;
            transform: scale(1.05);
        }
        
        /* ===== MODAL G√âN√âRIQUE ===== */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            animation: fadeIn 0.3s;
            overflow-y: auto;
            padding: 20px;
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 16px;
            max-width: 700px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            animation: slideDown 0.4s;
        }
        
        .modal-content.large {
            max-width: 900px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--danger);
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .modal-close:hover {
            background: #C0392B;
            transform: rotate(90deg);
        }
        
        .modal-content h2 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 24px;
        }
        
        .modal-content h3 {
            color: var(--success);
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .stat-box {
            background: var(--bg-light);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--primary);
        }
        
        .stat-box strong {
            color: var(--primary);
            font-size: 18px;
        }
        
        .example-box {
            background: #E8F8F5;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid var(--success);
        }
        
        /* ===== MODAL R√âSULTAT ===== */
        .result-modal .modal-content {
            padding: 0;
            overflow: hidden;
        }
        
        .result-header {
            background: linear-gradient(135deg, var(--success) 0%, #229954 100%);
            color: white;
            padding: 25px 40px;
            text-align: center;
        }
        
        .result-header h2 {
            color: white;
            margin: 0 0 10px 0;
            font-size: 26px;
        }
        
        .result-body {
            padding: 30px 40px;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        #promptOutputModal {
            background: #F8F9FA;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid var(--border);
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .result-actions {
            padding: 20px 40px 30px 40px;
            background: var(--bg-light);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        /* ===== FORMULAIRE ===== */
        .form-wrapper {
            padding: 40px;
        }
        
        .metadata-section {
            background: #FFF9E6;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 2px solid var(--warning);
        }
        
        .metadata-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid var(--border);
        }
        
        .section:last-child {
            border-bottom: none;
        }
        
        .section-title {
            font-size: 20px;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 15px;
        }
        
        label.required::after {
            content: " *";
            color: var(--danger);
        }
        
        /* ===== VALIDATION ERREURS ===== */
        .error-message {
            display: none;
            color: var(--danger);
            font-size: 13px;
            font-weight: 600;
            margin-top: 5px;
            padding: 8px 12px;
            background: #FADBD8;
            border-radius: 4px;
            border-left: 3px solid var(--danger);
        }
        
        .form-group.has-error .error-message {
            display: block;
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .form-group.has-error input,
        .form-group.has-error select,
        .form-group.has-error textarea {
            border-color: var(--danger);
            background: #FADBD8;
        }
        
        .form-group.has-error .checkbox-group,
        .form-group.has-error .radio-group {
            border: 3px solid var(--danger);
            border-radius: 8px;
            padding: 10px;
            background: #FADBD8;
        }
        
        input[type="text"],
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
            font-family: inherit;
        }
        
        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }
        
        textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        /* ===== CHECKBOXES & RADIOS ===== */
        .checkbox-group,
        .radio-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 12px;
        }
        
        .checkbox-item,
        .radio-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: var(--bg-light);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .checkbox-item:hover,
        .radio-item:hover {
            background: #E8F4F8;
            border-color: var(--primary);
        }
        
        .checkbox-item input:checked ~ span,
        .radio-item input:checked ~ span {
            font-weight: 600;
            color: var(--primary);
        }
        
        input[type="checkbox"],
        input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            flex-shrink: 0;
        }
        
        /* ===== DRAPEAUX LANGUES ===== */
        .language-flag {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            margin-right: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        
        /* ===== PALETTES COULEURS ===== */
        .color-palette {
            display: flex;
            gap: 10px;
            align-items: center;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border: 2px solid var(--border);
        }
        
        .color-palette input[type="radio"] {
            margin-right: 10px;
        }
        
        .color-swatch {
            width: 30px;
            height: 30px;
            border-radius: 4px;
            border: 2px solid #ddd;
        }
        
        .palette-name {
            font-weight: 600;
            flex: 1;
        }
        
        /* ===== BOUTONS ===== */
        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        
        button {
            padding: 15px 30px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
            flex: 1;
            min-width: 200px;
        }
        
        .btn-primary:hover:not(:disabled) {
            background: #357ABD;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.4);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
            flex: 1;
            min-width: 200px;
        }
        
        .btn-success:hover:not(:disabled) {
            background: #229954;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
        }
        
        .btn-secondary {
            background: var(--border);
            color: var(--text-dark);
        }
        
        .btn-secondary:hover {
            background: #BDC3C7;
        }
        
        /* ===== SPINNER CHARGEMENT ===== */
        .spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        button.loading .spinner {
            display: block;
        }
        
        button.loading span:not(.spinner) {
            display: none;
        }
        
        /* ===== HELPER TEXT ===== */
        .helper-text {
            font-size: 13px;
            color: #7F8C8D;
            margin-top: 5px;
            font-style: italic;
        }
        
        .info-banner {
            background: #E3F2FD;
            border-left: 4px solid var(--info);
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .feature-badge {
            display: inline-block;
            background: var(--success);
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
        }
        
        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .form-wrapper {
                padding: 20px;
            }
            
            header h1 {
                font-size: 20px;
            }
            
            .help-btn,
            .version-badge {
                position: static;
                margin: 10px auto;
            }
            
            header {
                padding: 20px;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .btn-primary,
            .btn-success {
                width: 100%;
            }
            
            .checkbox-group,
            .radio-group {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                padding: 25px;
                margin: 20px;
                max-height: 90vh;
            }
            
            .result-header,
            .result-body,
            .result-actions {
                padding: 20px;
            }
            
            .metadata-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* ===== ACCESSIBILIT√â ===== */
        button:focus,
        input:focus,
        select:focus,
        textarea:focus {
            outline: 3px solid var(--primary);
            outline-offset: 2px;
        }
        
        /* ===== NOUVEAU : FORMAT JSON ===== */
        .format-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            background: var(--bg-light);
            padding: 15px;
            border-radius: 8px;
        }
        
        .format-option {
            flex: 1;
            text-align: center;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .format-option.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .format-option:not(.active):hover {
            background: #E8F4F8;
            border-color: var(--primary);
        }
        
        .json-preview {
            background: #2C3E50;
            color: #ECF0F1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 10px;
            display: none;
        }
        
        .json-key {
            color: #3498DB;
        }
        
        .json-string {
            color: #27AE60;
        }
        
        .json-number {
            color: #E74C3C;
        }
        
        .json-boolean {
            color: #9B59B6;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <header>
            <button class="help-btn" onclick="openHelpModal()">
                <span>‚ùì</span>
                <span>Guide Parents</span>
            </button>
            <span class="version-badge">v1.005</span>
            <h1>üé® G√©n√©rateur de Prompt - Contenu HTML Enfant</h1>
            <p>Cr√©ez des exp√©riences √©ducatives interactives s√©curis√©es pour vos enfants</p>
            <p style="font-size: 12px; margin-top: 10px;">‚úÖ Format JSON optimis√© | üîí Conforme RGPD/COPPA | ‚ôø Accessible</p>
        </header>
        
        <!-- MODAL AIDE -->
        <div id="helpModal" class="modal">
            <div class="modal-content">
                <button class="modal-close" onclick="closeHelpModal()">√ó</button>
                <h2>üìò Guide Parents : Qu'est-ce que cet outil ?</h2>
                
                <p><strong>Objectif :</strong> Cet outil vous aide √† cr√©er un "prompt" (instruction d√©taill√©e) pour g√©n√©rer du contenu √©ducatif HTML interactif adapt√© √† l'√¢ge de vos enfants.</p>
                
                <h3>üéØ Pourquoi utiliser cet outil ?</h3>
                <ul style="line-height: 2; margin-left: 20px;">
                    <li><strong>S√©curit√© :</strong> Garantit un contenu sans publicit√©, sans tracking, sans liens externes dangereux</li>
                    <li><strong>P√©dagogie :</strong> Adapte le niveau de difficult√© √† l'√¢ge exact de votre enfant</li>
                    <li><strong>Accessibilit√© :</strong> Fonctionne sur tablette, t√©l√©phone, ordinateur sans installation</li>
                    <li><strong>Offline :</strong> Une fois t√©l√©charg√©, fonctionne sans Internet (id√©al pour voyages)</li>
                    <li><strong>Multilingue :</strong> Cr√©ez du contenu en Fran√ßais, Arabe ou Anglais</li>
                </ul>
                
                <h3>üìä Statistiques & B√©n√©fices</h3>
                <div class="stat-box">
                    <strong>85%</strong> des enfants retiennent mieux avec du contenu interactif vs lecture passive (√âtude UNESCO 2023)
                </div>
                <div class="stat-box">
                    <strong>70%</strong> des parents recherchent du contenu √©ducatif sans √©cran passif (Common Sense Media 2024)
                </div>
                <div class="stat-box">
                    <strong>92%</strong> de satisfaction avec du contenu adapt√© √† l'√¢ge pr√©cis (donn√©es internes)
                </div>
                
                <h3>üåü Exemples R√©els d'Utilisation</h3>
                
                <div class="example-box">
                    <strong>Exemple 1 : L√©a, 5 ans - Apprentissage des couleurs</strong><br>
                    Maman a cr√©√© un jeu de "chasse aux couleurs" o√π L√©a clique sur des objets de la bonne couleur. R√©sultat : L√©a conna√Æt maintenant 8 couleurs et s'amuse 15 min/jour en autonomie.
                </div>
                
                <div class="example-box">
                    <strong>Exemple 2 : Tom, 8 ans - Tables de multiplication</strong><br>
                    Papa a g√©n√©r√© un quiz interactif avec animations. Tom a progress√© de 40% en 2 semaines en jouant 10 min apr√®s l'√©cole.
                </div>
                
                <div class="example-box">
                    <strong>Exemple 3 : √âcole primaire - Hygi√®ne dentaire</strong><br>
                    Une institutrice a cr√©√© une histoire interactive o√π les enfants aident "Dent-Blanche" √† rester propre. 95% de la classe se brosse maintenant les dents matin et soir.
                </div>
                
                <h3>‚öôÔ∏è Comment √ßa marche ?</h3>
                <ol style="line-height: 2; margin-left: 20px;">
                    <li><strong>Remplissez le formulaire</strong> avec l'√¢ge, le th√®me souhait√©, les interactions</li>
                    <li><strong>Cliquez "G√©n√©rer"</strong> ‚Üí Un texte (prompt) est cr√©√© automatiquement</li>
                    <li><strong>Une fen√™tre s'ouvre</strong> avec le prompt complet</li>
                    <li><strong>Copiez ou t√©l√©chargez</strong> le prompt</li>
                    <li><strong>Collez-le dans une IA</strong> (ChatGPT, Claude, etc.)</li>
                    <li><strong>L'IA vous proposera d'abord un plan</strong> ‚Üí Validez-le</li>
                    <li><strong>L'IA g√©n√®re le fichier HTML</strong> ‚Üí T√©l√©chargez-le et ouvrez-le dans un navigateur</li>
                    <li><strong>Votre enfant joue et apprend !</strong> üéâ</li>
                </ol>
                
                <h3>üîí Garanties de S√©curit√©</h3>
                <ul style="line-height: 2; margin-left: 20px;">
                    <li>‚úÖ Aucune collecte de donn√©es personnelles</li>
                    <li>‚úÖ Aucune publicit√© ou contenu commercial</li>
                    <li>‚úÖ Pas de lien vers des sites externes</li>
                    <li>‚úÖ Contenu valid√© selon standards √©ducatifs</li>
                    <li>‚úÖ Conforme RGPD et loi COPPA (protection enfants)</li>
                </ul>
                
                <div class="info-banner">
                    <strong>üí° Astuce :</strong> Commencez simple ! Choisissez un seul objectif p√©dagogique pour le premier essai (ex: reconna√Ætre 5 couleurs). Vous pourrez cr√©er des contenus plus complexes ensuite.
                </div>
                
                <button class="btn-primary" onclick="closeHelpModal()" style="margin-top: 25px; width: 100%;">
                    <span>‚úÖ J'ai compris, je commence !</span>
                </button>
            </div>
        </div>
        
        <!-- MODAL R√âSULTAT -->
        <div id="resultModal" class="modal result-modal">
            <div class="modal-content large">
                <button class="modal-close" onclick="closeResultModal()">√ó</button>
                <div class="result-header">
                    <h2>üéâ Prompt G√©n√©r√© avec Succ√®s !</h2>
                    <p style="font-size: 14px; margin: 0;">Copiez ou t√©l√©chargez ce prompt et collez-le dans votre IA</p>
                </div>
                <div class="result-body">
                    <p style="margin-bottom: 15px; color: #7F8C8D; font-size: 14px;">
                        <strong>üìå Prochaine √©tape :</strong> Utilisez ce prompt avec Claude, ChatGPT, Gemini ou toute autre IA g√©n√©rative
                    </p>
                    <div id="promptOutputModal"></div>
                </div>
                <div class="result-actions">
                    <button id="copyBtnModal" class="btn-success">
                        <span class="spinner"></span>
                        <span>üìã Copier le Prompt</span>
                    </button>
                    <button id="downloadBtnModal" class="btn-primary">
                        <span>üíæ Exporter (.txt)</span>
                    </button>
                    <button onclick="closeResultModal()" class="btn-secondary">
                        <span>‚úñÔ∏è Fermer</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- FORMULAIRE -->
        <div class="form-wrapper">
            <div class="format-toggle">
                <div class="format-option active" data-format="json">
                    üöÄ Format JSON (Recommand√©)
                </div>
                <div class="format-option" data-format="text">
                    üìù Format Texte (Ancien)
                </div>
            </div>
            
            <div id="jsonPreview" class="json-preview">
                {/* Aper√ßu JSON */}
            </div>
            
            <form id="promptForm">
                
                <!-- M√âTADONN√âES PROJET -->
                <div class="metadata-section">
                    <h3 style="color: var(--warning); margin-bottom: 15px;">üìù Informations du Projet</h3>
                    <div class="metadata-grid">
                        <div class="form-group" style="margin-bottom: 0;">
                            <label for="creatorName" class="required">Votre nom / Pr√©nom</label>
                            <input type="text" id="creatorName" placeholder="Ex: Marie Dupont" required>
                            <div class="error-message">‚ùå Champ obligatoire</div>
                            <span class="helper-text">üíæ Sauvegard√© automatiquement pour prochaine fois</span>
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label for="projectVersion">Version du projet</label>
                            <input type="text" id="projectVersion" value="v1.0" placeholder="v1.0">
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label>Date de cr√©ation</label>
                            <input type="text" id="creationDate" readonly style="background: #f0f0f0;">
                        </div>
                    </div>
                </div>
                
                <!-- SECTION 1: √ÇGE (MULTIPLE) -->
                <div class="section">
                    <h2 class="section-title">üéØ Public Cible</h2>
                    
                    <div class="form-group" id="ageGroup">
                        <label class="required">Tranches d'√¢ge vis√©es (s√©lection multiple possible)</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="ageRange" value="3-4 ans (Petite section)">
                                <span>3-4 ans (Petite section)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="ageRange" value="5-6 ans (Grande section/CP)">
                                <span>5-6 ans (Grande section/CP)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="ageRange" value="7-8 ans (CE1/CE2)">
                                <span>7-8 ans (CE1/CE2)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="ageRange" value="9-10 ans (CM1/CM2)">
                                <span>9-10 ans (CM1/CM2)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="ageRange" value="11-12 ans (Coll√®ge)">
                                <span>11-12 ans (Coll√®ge)</span>
                            </label>
                        </div>
                        <div class="error-message">‚ùå S√©lectionnez au moins une tranche d'√¢ge</div>
                        <span class="helper-text">üí° S√©lectionnez plusieurs √¢ges si le contenu doit s'adapter √† fratrie</span>
                    </div>
                    
                    <div class="form-group" id="readingGroup">
                        <label class="required">Niveau de lecture</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="readingLevel" value="Pr√©-lecteur (images/audio/pictogrammes)" required>
                                <span>üì∏ Pr√©-lecteur (images/audio/pictogrammes)</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="readingLevel" value="Lecteur d√©butant (phrases courtes max 8 mots)">
                                <span>üìñ Lecteur d√©butant (phrases courtes)</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="readingLevel" value="Lecteur autonome (textes structur√©s)">
                                <span>üìö Lecteur autonome</span>
                            </label>
                        </div>
                        <div class="error-message">‚ùå Champ obligatoire - S√©lectionnez un niveau de lecture</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Supervision adulte</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="supervision" value="Adulte pr√©sent obligatoire" checked>
                                <span>üë®‚Äçüë©‚Äçüëß Adulte pr√©sent obligatoire</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="supervision" value="Semi-autonome (adulte √† proximit√©)">
                                <span>üëÄ Semi-autonome (adulte √† proximit√©)</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="supervision" value="Totalement autonome">
                                <span>üéØ Totalement autonome</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- SECTION 1.5: LANGUES -->
                <div class="section">
                    <h2 class="section-title">üåç Langue du Contenu<span class="feature-badge">NOUVEAU</span></h2>
                    
                    <div class="form-group">
                        <label>Langue(s) du contenu (s√©lection multiple possible)</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="languages" value="Fran√ßais" checked>
                                <span>üá´üá∑ Fran√ßais</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="languages" value="Arabe">
                                <span>üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabe)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="languages" value="Anglais">
                                <span>üá¨üáß English (Anglais)</span>
                            </label>
                        </div>
                        <span class="helper-text">üí° Multilingue : s√©lectionnez plusieurs langues pour contenu bilingue/trilingue</span>
                    </div>
                    
                    <div class="form-group">
                        <label>Disposition des langues si multilingue</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="languageLayout" value="S√©lecteur de langue (bouton pour changer)" checked>
                                <span>üîò S√©lecteur de langue (bouton pour changer)</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="languageLayout" value="Affichage simultan√© c√¥te √† c√¥te">
                                <span>‚¨å Affichage simultan√© c√¥te √† c√¥te</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="languageLayout" value="Bilingue avec traduction au survol">
                                <span>üëÜ Bilingue avec traduction au survol</span>
                            </label>
                        </div>
                        <span class="helper-text">Applicable uniquement si plusieurs langues s√©lectionn√©es</span>
                    </div>
                </div>
                
                <!-- SECTION 2: TH√àME -->
                <div class="section">
                    <h2 class="section-title">üé® Th√®me et Contenu</h2>
                    
                    <div class="form-group" id="themeGroup">
                        <label for="theme" class="required">Sujet principal</label>
                        <input type="text" id="theme" placeholder="Ex: Apprentissage des couleurs primaires" required>
                        <div class="error-message">‚ùå Champ obligatoire - D√©crivez le sujet</div>
                        <span class="helper-text">D√©crivez le sujet en 1 phrase claire</span>
                    </div>
                    
                    <div class="form-group" id="goalsGroup">
                        <label class="required">Objectifs p√©dagogiques (cochez tous ceux qui s'appliquent)</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Reconnaissance des couleurs primaires/secondaires">
                                <span>üé® Reconnaissance couleurs</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Identification des formes g√©om√©triques">
                                <span>üî∑ Formes g√©om√©triques</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Apprentissage des chiffres et comptage 1-10/1-20">
                                <span>üî¢ Chiffres et comptage</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Reconnaissance alphabet et lettres">
                                <span>üî§ Alphabet et lettres</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="D√©couverte des animaux et leurs cris">
                                <span>üê∂ Animaux et cris</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Identification fruits et l√©gumes">
                                <span>üçé Fruits et l√©gumes</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Parties du corps humain">
                                <span>üë§ Parties du corps</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Reconnaissance et gestion des √©motions">
                                <span>üòä √âmotions et sentiments</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Jours de la semaine">
                                <span>üìÖ Jours de la semaine</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Saisons et m√©t√©o">
                                <span>üå¶Ô∏è Saisons et m√©t√©o</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Famille et relations sociales">
                                <span>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Famille et relations</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Hygi√®ne quotidienne (lavage mains, brossage dents)">
                                <span>üßº Hygi√®ne quotidienne</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="S√©curit√© routi√®re (pi√©ton, v√©lo)">
                                <span>üö¶ S√©curit√© routi√®re</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Respect de l'environnement et recyclage">
                                <span>‚ôªÔ∏è Environnement et recyclage</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Partage, coop√©ration, empathie">
                                <span>ü§ù Partage et coop√©ration</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="D√©veloppement motricit√© fine (cliquer, glisser)">
                                <span>‚úã Motricit√© fine</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Entra√Ænement m√©moire visuelle/auditive">
                                <span>üß† M√©moire visuelle/auditive</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Logique et raisonnement (puzzles, s√©quences)">
                                <span>üß© Logique et raisonnement</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Cr√©ativit√© artistique (coloriage, dessin)">
                                <span>üé® Cr√©ativit√© artistique</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="pedGoals" value="Lecture de l'heure">
                                <span>üïê Lecture de l'heure</span>
                            </label>
                        </div>
                        <div class="error-message">‚ùå S√©lectionnez au moins un objectif ou utilisez le champ ci-dessous</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="customGoals">Autres objectifs sp√©cifiques (optionnel)</label>
                        <textarea id="customGoals" placeholder="Ex: Apprendre √† reconna√Ætre les instruments de musique classiques&#10;D√©velopper l'attention auditive..."></textarea>
                        <span class="helper-text">Un objectif par ligne si plusieurs</span>
                    </div>
                    
                    <div class="form-group">
                        <label for="narrativeStyle">Style narratif</label>
                        <select id="narrativeStyle">
                            <option value="√âducatif neutre avec voix off bienveillante">√âducatif neutre avec voix off bienveillante</option>
                            <option value="Aventure avec personnage h√©ros enfant">Aventure avec personnage h√©ros enfant</option>
                            <option value="Ludique avec mascotte animale attachante">Ludique avec mascotte animale attachante</option>
                            <option value="Conte interactif fa√ßon livre dont vous √™tes le h√©ros">Conte interactif (livre dont vous √™tes le h√©ros)</option>
                            <option value="Documentaire style reportage enfant (type C'est pas sorcier)">Documentaire style reportage enfant</option>
                            <option value="Jeu vid√©o √©ducatif avec niveaux progressifs">Jeu vid√©o √©ducatif avec niveaux</option>
                            <option value="Exploration libre monde ouvert">Exploration libre monde ouvert</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="additionalContext">Pr√©cisions suppl√©mentaires (optionnel)</label>
                        <textarea id="additionalContext" placeholder="Ex: Mon enfant adore les dinosaures, int√©grer ce th√®me si possible&#10;Pr√©f√©rer vocabulaire inclusif et non-genr√©&#10;√âviter les r√©f√©rences √† Halloween (sensibilit√© familiale)..."></textarea>
                        <span class="helper-text">Contexte culturel, pr√©f√©rences, sensibilit√©s particuli√®res</span>
                    </div>
                </div>
                
                <!-- SECTION 3: INTERACTIVIT√â -->
                <div class="section">
                    <h2 class="section-title">üéÆ Interactivit√©</h2>
                    
                    <div class="form-group">
                        <label>Types d'interactions souhait√©s (s√©lection multiple)</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Quiz/QCM avec choix multiples">
                                <span>üìù Quiz/QCM</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Glisser-d√©poser (drag & drop)">
                                <span>üñ±Ô∏è Glisser-d√©poser</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Colorier/Dessiner sur canvas HTML5">
                                <span>üé® Colorier/Dessiner</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Jeux de m√©moire (paires, memory)">
                                <span>üß† Jeux de m√©moire</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Animations d√©clench√©es au clic">
                                <span>‚ú® Animations au clic</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Histoire √† choix multiples (embranchements)">
                                <span>üìñ Histoire √† choix</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Puzzles et assemblage">
                                <span>üß© Puzzles</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Jeux de sons (associer son √† image)">
                                <span>üîä Jeux de sons</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Labyrinthe avec navigation clavier/tactile">
                                <span>üó∫Ô∏è Labyrinthe</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interactions" value="Tri et cat√©gorisation (ranger par cat√©gorie)">
                                <span>üì¶ Tri et cat√©gories</span>
                            </label>
                        </div>
                        <span class="helper-text">Si aucune s√©lection, l'IA proposera des interactions adapt√©es</span>
                    </div>
                    
                    <div class="form-group">
                        <label>Syst√®me de r√©compenses</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="rewards" value="Sons positifs + animations joyeuses" checked>
                                <span>üéµ Sons + animations</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="rewards" value="√âtoiles/badges visuels collectionnables">
                                <span>‚≠ê √âtoiles/badges</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="rewards" value="Messages encourageants avec emojis">
                                <span>üí¨ Messages encourageants</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="rewards" value="D√©blocage progressif de contenus bonus">
                                <span>üîì D√©blocage de bonus</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Gestion des erreurs</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="errorHandling" value="R√©essayer sans p√©nalit√© avec indices progressifs" checked>
                                <span>üí° R√©essayer avec indices</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="errorHandling" value="Afficher solution apr√®s 3 tentatives">
                                <span>üîç Solution apr√®s 3 essais</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="errorHandling" value="Apprentissage par l'erreur : expliquer pourquoi c'est faux">
                                <span>üìö Apprentissage de l'erreur</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="errorHandling" value="Jamais bloquer, toujours positif, passer √† la suite">
                                <span>‚úÖ Toujours positif, passer</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- SECTION 3.5: SUIVI & ANALYTICS -->
                <div class="section">
                    <h2 class="section-title">üìä Suivi & Analytics<span class="feature-badge">NOUVEAU</span></h2>
                    
                    <div class="form-group">
                        <label>Chronom√®tre temps de jeu</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="timer" value="Oui - Afficher chronom√®tre visible en permanence" checked>
                                <span>‚è±Ô∏è Oui - Chronom√®tre visible en permanence</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="timer" value="Oui - Chronom√®tre discret (petit coin d'√©cran)">
                                <span>üïê Oui - Chronom√®tre discret (coin d'√©cran)</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="timer" value="Non - Pas de chronom√®tre (apprentissage sans pression)">
                                <span>üö´ Non - Pas de chronom√®tre (sans pression)</span>
                            </label>
                        </div>
                        <span class="helper-text">üí° Le chronom√®tre aide √† g√©rer le temps d'√©cran quotidien</span>
                    </div>
                    
                    <div class="form-group">
                        <label>Statistiques & progression</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="stats" value="Afficher score en temps r√©el">
                                <span>üìà Score en temps r√©el</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="stats" value="Barre de progression visuelle">
                                <span>üìä Barre de progression visuelle</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="stats" value="Compteur r√©ussites/erreurs">
                                <span>‚úÖ‚ùå Compteur r√©ussites/erreurs</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="stats" value="R√©capitulatif d√©taill√© √† la fin">
                                <span>üìã R√©capitulatif d√©taill√© final</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="stats" value="Graphique d'√©volution (si plusieurs sessions)">
                                <span>üìâ Graphique d'√©volution</span>
                            </label>
                        </div>
                        <span class="helper-text">Stockage temporaire en sessionStorage (effac√© √† fermeture)</span>
                    </div>
                </div>
                
                <!-- SECTION 3.6: ASSISTANCE PARENTALE -->
                <div class="section">
                    <h2 class="section-title">üë®‚Äçüë©‚Äçüëß Assistance Parentale<span class="feature-badge">NOUVEAU</span></h2>
                    
                    <div class="form-group">
                        <label>Conseils contextuels pour parents</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="parentalGuidance" value="Oui - Panneau d'aide discret avec conseils en temps r√©el" checked>
                                <span>üí° Oui - Panneau d'aide avec conseils temps r√©el</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="parentalGuidance" value="Oui - Notifications subtiles selon r√©actions enfant">
                                <span>üîî Oui - Notifications selon r√©actions</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="parentalGuidance" value="Non - Enfant en totale autonomie">
                                <span>üéØ Non - Autonomie totale</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Type de conseils √† fournir</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="guidanceTypes" value="Comment encourager apr√®s une erreur">
                                <span>üí™ Encourager apr√®s erreur</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="guidanceTypes" value="Quand f√©liciter (timing optimal)">
                                <span>üéâ Quand f√©liciter</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="guidanceTypes" value="D√©tecter frustration et comment intervenir">
                                <span>üò§ G√©rer frustration</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="guidanceTypes" value="Proposer pauses si temps √©coul√© long">
                                <span>‚òï Sugg√©rer pauses</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="guidanceTypes" value="Identifier points forts et axes d'am√©lioration">
                                <span>üìå Points forts/am√©lioration</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="guidanceTypes" value="Questions de discussion post-activit√©">
                                <span>üí¨ Questions de discussion</span>
                            </label>
                        </div>
                        <span class="helper-text">Conseils affich√©s uniquement aux adultes (bouton d√©di√© ou section cach√©e)</span>
                    </div>
                </div>
                
                <!-- SECTION 4: DESIGN & COULEURS -->
                <div class="section">
                    <h2 class="section-title">üé® Design et Couleurs</h2>
                    
                    <div class="form-group">
                        <label class="required">Palette de couleurs (douces pour les yeux)</label>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <label class="color-palette">
                                <input type="radio" name="colorPalette" value="Pastel Doux (#FFE4E1, #E0F2F7, #FFF9C4, #D1F2EB)" checked>
                                <div style="display: flex; gap: 5px;">
                                    <div class="color-swatch" style="background: #FFE4E1;"></div>
                                    <div class="color-swatch" style="background: #E0F2F7;"></div>
                                    <div class="color-swatch" style="background: #FFF9C4;"></div>
                                    <div class="color-swatch" style="background: #D1F2EB;"></div>
                                </div>
                                <span class="palette-name">üå∏ Pastel Doux (recommand√© 3-7 ans)</span>
                            </label>
                            
                            <label class="color-palette">
                                <input type="radio" name="colorPalette" value="Oc√©an Calme (#B3E5FC, #81D4FA, #4FC3F7, #29B6F6)">
                                <div style="display: flex; gap: 5px;">
                                    <div class="color-swatch" style="background: #B3E5FC;"></div>
                                    <div class="color-swatch" style="background: #81D4FA;"></div>
                                    <div class="color-swatch" style="background: #4FC3F7;"></div>
                                    <div class="color-swatch" style="background: #29B6F6;"></div>
                                </div>
                                <span class="palette-name">üåä Oc√©an Calme (apaisant)</span>
                            </label>
                            
                            <label class="color-palette">
                                <input type="radio" name="colorPalette" value="For√™t Enchant√©e (#C8E6C9, #A5D6A7, #81C784, #66BB6A)">
                                <div style="display: flex; gap: 5px;">
                                    <div class="color-swatch" style="background: #C8E6C9;"></div>
                                    <div class="color-swatch" style="background: #A5D6A7;"></div>
                                    <div class="color-swatch" style="background: #81C784;"></div>
                                    <div class="color-swatch" style="background: #66BB6A;"></div>
                                </div>
                                <span class="palette-name">üå≤ For√™t Enchant√©e (nature)</span>
                            </label>
                            
                            <label class="color-palette">
                                <input type="radio" name="colorPalette" value="Coucher de Soleil (#FFCCBC, #FFAB91, #FF8A65, #FF7043)">
                                <div style="display: flex; gap: 5px;">
                                    <div class="color-swatch" style="background: #FFCCBC;"></div>
                                    <div class="color-swatch" style="background: #FFAB91;"></div>
                                    <div class="color-swatch" style="background: #FF8A65;"></div>
                                    <div class="color-swatch" style="background: #FF7043;"></div>
                                </div>
                                <span class="palette-name">üåÖ Coucher de Soleil (chaleureux)</span>
                            </label>
                            
                            <label class="color-palette">
                                <input type="radio" name="colorPalette" value="Neutre Moderne (#F5F5F5, #E0E0E0, #BDBDBD, #9E9E9E)">
                                <div style="display: flex; gap: 5px;">
                                    <div class="color-swatch" style="background: #F5F5F5;"></div>
                                    <div class="color-swatch" style="background: #E0E0E0;"></div>
                                    <div class="color-swatch" style="background: #BDBDBD;"></div>
                                    <div class="color-swatch" style="background: #9E9E9E;"></div>
                                </div>
                                <span class="palette-name">‚ö™ Neutre Moderne (minimaliste)</span>
                            </label>
                            
                            <label class="color-palette">
                                <input type="radio" name="colorPalette" value="Arc-en-ciel Doux (#FFE0B2, #FFF9C4, #C8E6C9, #B3E5FC, #E1BEE7)">
                                <div style="display: flex; gap: 5px;">
                                    <div class="color-swatch" style="background: #FFE0B2;"></div>
                                    <div class="color-swatch" style="background: #FFF9C4;"></div>
                                    <div class="color-swatch" style="background: #C8E6C9;"></div>
                                    <div class="color-swatch" style="background: #B3E5FC;"></div>
                                    <div class="color-swatch" style="background: #E1BEE7;"></div>
                                </div>
                                <span class="palette-name">üåà Arc-en-ciel Doux (multicolore)</span>
                            </label>
                        </div>
                        <span class="helper-text">Toutes palettes test√©es pour contrastes WCAG AA minimum</span>
                    </div>
                </div>
                
                <!-- SECTION 5: ACCESSIBILIT√â -->
                <div class="section">
                    <h2 class="section-title">‚ôø Accessibilit√©</h2>
                    
                    <div class="info-banner">
                        <strong>‚ÑπÔ∏è Info :</strong> Le contenu sera TOUJOURS responsive (mobile/tablette/PC) et conforme WCAG 2.1 AA minimum. Options ci-dessous pour besoins sp√©cifiques.
                    </div>
                    
                    <div class="form-group">
                        <label>Accessibilit√© renforc√©e</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="accessibility" value="Support mobilit√© r√©duite (gros boutons 60x60px, espacement large)">
                                <span>‚ôø Mobilit√© r√©duite (gros boutons)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="accessibility" value="Navigation compl√®te au clavier (Tab/Fl√®ches/Enter/Espace)">
                                <span>‚å®Ô∏è Navigation clavier compl√®te</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="accessibility" value="Support lecteurs d'√©cran (NVDA, VoiceOver, JAWS)">
                                <span>üîä Lecteurs d'√©cran</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="accessibility" value="Contrastes renforc√©s WCAG AAA (ratio 7:1)">
                                <span>üëÅÔ∏è Contrastes renforc√©s AAA</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="accessibility" value="Police dyslexie-friendly (OpenDyslexic ou √©quivalent)">
                                <span>üìñ Police dyslexie-friendly</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="accessibility" value="Mode sombre/clair commutable">
                                <span>üåì Mode sombre/clair</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- BOUTONS -->
                <div class="button-group">
                    <button type="submit" id="submitBtn" class="btn-primary">
                        <span class="spinner"></span>
                        <span>üöÄ G√©n√©rer le Prompt</span>
                    </button>
                    <button type="reset" class="btn-secondary">
                        <span>üîÑ R√©initialiser</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        // ===== VERSION & CONFIG =====
        const VERSION = "v1.005";
        const STORAGE_KEY_NAME = 'prompt_generator_creator_name';
        let currentFormat = 'json'; // Format par d√©faut
        
        // ===== INITIALISATION =====
        window.addEventListener('DOMContentLoaded', function() {
            // Date automatique
            document.getElementById('creationDate').value = new Date().toLocaleDateString('fr-FR', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Charger nom sauvegard√©
            const savedName = localStorage.getItem(STORAGE_KEY_NAME);
            if (savedName) {
                document.getElementById('creatorName').value = savedName;
            }
            
            // Initialiser le s√©lecteur de format
            initFormatSelector();
            
            // Mettre √† jour l'aper√ßu JSON
            updateJsonPreview();
        });
        
        // ===== GESTION DU FORMAT =====
        function initFormatSelector() {
            const formatOptions = document.querySelectorAll('.format-option');
            
            formatOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // D√©sactiver toutes les options
                    formatOptions.forEach(opt => opt.classList.remove('active'));
                    
                    // Activer l'option cliqu√©e
                    this.classList.add('active');
                    
                    // Mettre √† jour le format courant
                    currentFormat = this.dataset.format;
                    
                    // Afficher/masquer l'aper√ßu JSON
                    const jsonPreview = document.getElementById('jsonPreview');
                    if (currentFormat === 'json') {
                        jsonPreview.style.display = 'block';
                        updateJsonPreview();
                    } else {
                        jsonPreview.style.display = 'none';
                    }
                });
            });
        }
        
        function updateJsonPreview() {
            if (currentFormat !== 'json') return;
            
            // R√©cup√©rer les valeurs du formulaire pour l'aper√ßu
            const creatorName = document.getElementById('creatorName').value.trim() || "Votre nom";
            const theme = document.getElementById('theme').value.trim() || "Th√®me du projet";
            
            // Construire l'aper√ßu JSON
            const jsonPreview = {
                metadata: {
                    creator: creatorName,
                    version: document.getElementById('projectVersion').value,
                    date: document.getElementById('creationDate').value,
                    generator: `Formulaire ${VERSION}`
                },
                target: {
                    age: "Tranches d'√¢ge s√©lectionn√©es",
                    theme: theme,
                    language: "Langues s√©lectionn√©es"
                },
                content: {
                    goals: "Objectifs p√©dagogiques",
                    interactions: "Types d'interactions"
                }
            };
            
            // Afficher l'aper√ßu format√©
            document.getElementById('jsonPreview').innerHTML = syntaxHighlight(JSON.stringify(jsonPreview, null, 2));
        }
        
        function syntaxHighlight(json) {
            json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
                let cls = 'json-number';
                if (/^"/.test(match)) {
                    if (/:$/.test(match)) {
                        cls = 'json-key';
                    } else {
                        cls = 'json-string';
                    }
                } else if (/true|false/.test(match)) {
                    cls = 'json-boolean';
                } else if (/null/.test(match)) {
                    cls = 'json-null';
                }
                return '<span class="' + cls + '">' + match + '</span>';
            });
        }
        
        // ===== SAUVEGARDE NOM AUTOMATIQUE =====
        document.getElementById('creatorName').addEventListener('blur', function() {
            const name = this.value.trim();
            if (name) {
                localStorage.setItem(STORAGE_KEY_NAME, name);
            }
            updateJsonPreview();
        });
        
        // ===== √âCOUTEURS POUR METTRE √Ä JOUR L'APER√áU =====
        document.querySelectorAll('input, select, textarea').forEach(element => {
            element.addEventListener('change', updateJsonPreview);
            element.addEventListener('input', updateJsonPreview);
        });
        
        // ===== MODAL HELP =====
        function openHelpModal() {
            document.getElementById('helpModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeHelpModal() {
            document.getElementById('helpModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        document.getElementById('helpModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeHelpModal();
            }
        });
        
        // ===== MODAL R√âSULTAT =====
        function openResultModal() {
            document.getElementById('resultModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeResultModal() {
            document.getElementById('resultModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        document.getElementById('resultModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeResultModal();
            }
        });
        
        // ===== VALIDATION FORMULAIRE =====
        function clearErrors() {
            document.querySelectorAll('.form-group.has-error').forEach(group => {
                group.classList.remove('has-error');
            });
        }
        
        function showError(groupId, message) {
            const group = document.getElementById(groupId);
            if (group) {
                group.classList.add('has-error');
                const errorMsg = group.querySelector('.error-message');
                if (errorMsg && message) {
                    errorMsg.textContent = '‚ùå ' + message;
                }
            }
        }
        
        function validateForm() {
            clearErrors();
            let isValid = true;
            let firstErrorElement = null;
            
            // Validation nom
            const creatorName = document.getElementById('creatorName').value.trim();
            if (!creatorName) {
                const group = document.querySelector('#creatorName').closest('.form-group');
                group.classList.add('has-error');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = group;
            }
            
            // Validation √¢ge
            const ageChecked = document.querySelectorAll('input[name="ageRange"]:checked');
            if (ageChecked.length === 0) {
                showError('ageGroup', 'S√©lectionnez au moins une tranche d\'√¢ge');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('ageGroup');
            }
            
            // Validation niveau lecture
            const readingChecked = document.querySelector('input[name="readingLevel"]:checked');
            if (!readingChecked) {
                showError('readingGroup', 'Champ obligatoire - S√©lectionnez un niveau de lecture');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('readingGroup');
            }
            
            // Validation th√®me
            const theme = document.getElementById('theme').value.trim();
            if (!theme) {
                showError('themeGroup', 'Champ obligatoire - D√©crivez le sujet');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('themeGroup');
            }
            
            // Validation objectifs p√©dagogiques
            const goalsChecked = document.querySelectorAll('input[name="pedGoals"]:checked');
            const customGoals = document.getElementById('customGoals').value.trim();
            if (goalsChecked.length === 0 && !customGoals) {
                showError('goalsGroup', 'S√©lectionnez au moins un objectif ou utilisez le champ libre');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('goalsGroup');
            }
            
            // Scroll vers premi√®re erreur
            if (!isValid && firstErrorElement) {
                firstErrorElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            
            return isValid;
        }
        
        // ===== GESTION FORMULAIRE =====
        document.getElementById('promptForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!validateForm()) {
                return;
            }
            
            // Animation bouton
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;
            
            // Simuler g√©n√©ration
            setTimeout(() => {
                generatePrompt();
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
            }, 800);
        });
        
        // ===== FONCTION G√âN√âRATION PROMPT =====
        function generatePrompt() {
            if (currentFormat === 'json') {
                generateJsonPrompt();
            } else {
                generateTextPrompt();
            }
        }
        
        function generateJsonPrompt() {
            // M√©tadonn√©es
            const creatorName = document.getElementById('creatorName').value.trim();
            const projectVersion = document.getElementById('projectVersion').value;
            const creationDate = document.getElementById('creationDate').value;
            
            // Sauvegarder nom
            localStorage.setItem(STORAGE_KEY_NAME, creatorName);
            
            // √Çges
            const ageRanges = Array.from(document.querySelectorAll('input[name="ageRange"]:checked'))
                .map(cb => cb.value);
            
            const readingLevel = document.querySelector('input[name="readingLevel"]:checked').value;
            const supervision = document.querySelector('input[name="supervision"]:checked').value;
            
            // Langues
            const languages = Array.from(document.querySelectorAll('input[name="languages"]:checked'))
                .map(cb => cb.value);
            const languageLayout = document.querySelector('input[name="languageLayout"]:checked').value;
            
            // Th√®me
            const theme = document.getElementById('theme').value;
            const narrativeStyle = document.getElementById('narrativeStyle').value;
            const additionalContext = document.getElementById('additionalContext').value.trim();
            
            // Objectifs p√©dagogiques
            const pedGoals = Array.from(document.querySelectorAll('input[name="pedGoals"]:checked'))
                .map(cb => cb.value);
            const customGoals = document.getElementById('customGoals').value.trim();
            let allGoals = [...pedGoals];
            if (customGoals) {
                const customFormatted = customGoals.split('\n').map(line => line.trim()).filter(line => line);
                allGoals = [...allGoals, ...customFormatted];
            }
            
            // Interactions
            const interactions = Array.from(document.querySelectorAll('input[name="interactions"]:checked'))
                .map(cb => cb.value);
            
            const rewards = document.querySelector('input[name="rewards"]:checked').value;
            const errorHandling = document.querySelector('input[name="errorHandling"]:checked').value;
            
            // Analytics
            const timer = document.querySelector('input[name="timer"]:checked').value;
            const stats = Array.from(document.querySelectorAll('input[name="stats"]:checked'))
                .map(cb => cb.value);
            
            // Assistance parentale
            const parentalGuidance = document.querySelector('input[name="parentalGuidance"]:checked').value;
            const guidanceTypes = Array.from(document.querySelectorAll('input[name="guidanceTypes"]:checked'))
                .map(cb => cb.value);
            
            // Design
            const colorPalette = document.querySelector('input[name="colorPalette"]:checked').value;
            
            // Accessibilit√©
            const accessibility = Array.from(document.querySelectorAll('input[name="accessibility"]:checked'))
                .map(cb => cb.value);
            
            // Construction de l'objet JSON
            const promptData = {
                metadata: {
                    creator: creatorName,
                    projectVersion: projectVersion,
                    creationDate: creationDate,
                    generator: `Formulaire ${VERSION}`
                },
                targetAudience: {
                    ageRanges: ageRanges,
                    readingLevel: readingLevel,
                    supervision: supervision
                },
                language: {
                    languages: languages,
                    layout: languageLayout
                },
                content: {
                    theme: theme,
                    narrativeStyle: narrativeStyle,
                    educationalGoals: allGoals,
                    additionalContext: additionalContext || undefined
                },
                interactivity: {
                    interactionTypes: interactions,
                    rewardSystem: rewards,
                    errorHandling: errorHandling
                },
                analytics: {
                    timer: timer,
                    statistics: stats
                },
                parentalAssistance: {
                    guidanceType: parentalGuidance,
                    guidanceTopics: guidanceTypes
                },
                design: {
                    colorPalette: colorPalette
                },
                accessibility: {
                    features: accessibility
                },
                technicalRequirements: {
                    format: "HTML5 standalone",
                    fileSize: "< 150 KB",
                    responsive: true,
                    offline: true,
                    compatibility: ["Chrome 90+", "Firefox 88+", "Safari 14+", "Edge 90+"],
                    accessibility: "WCAG 2.1 AA minimum"
                },
                security: {
                    noExternalLinks: true,
                    noTracking: true,
                    noPersonalData: true,
                    noAds: true,
                    gdprCompliant: true
                },
                workflow: {
                    step1: "Analyze this JSON specification",
                    step2: "Propose a detailed plan in TXT format",
                    step3: "Wait for explicit approval before generating HTML",
                    step4: "Generate complete standalone HTML file after approval"
                }
            };
            
            // Construction du prompt final avec instructions
            const prompt = `# üéØ PROMPT CR√âATION CONTENU HTML INTERACTIF ENFANT - FORMAT JSON

## üìã INSTRUCTIONS POUR L'IA

**WORKFLOW OBLIGATOIRE :**

1. **ANALYSE** cette sp√©cification JSON compl√®te
2. **PROPOSE-MOI** d'abord un **PLAN D√âTAILL√â** en format TXT contenant :
   - Structure HTML (sections principales, navigation)
   - M√©caniques d'interactions (avec justifications techniques)
   - Approche CSS responsive (mobile-first, breakpoints)
   - Architecture JavaScript (fonctions principales, gestion √©v√©nements)
   - Impl√©mentation chronom√®tre et statistiques
   - Syst√®me d'assistance parentale
   - Points de vigilance s√©curit√©/accessibilit√©
   - Estimation poids final (<150 KB)

3. **ATTENDS MON APPROBATION EXPLICITE** avant de g√©n√©rer le HTML

4. **SEULEMENT APR√àS MON "OK"** ‚Üí G√©n√®re le fichier HTML complet standalone

---

## üéØ SP√âCIFICATIONS DU PROJET (JSON)

\`\`\`json
${JSON.stringify(promptData, null, 2)}
\`\`\`

---

## ‚úÖ CHECKLIST VALIDATION FINALE

V√©rifie ces points et liste-les dans ta r√©ponse :
- [ ] HTML valide W3C (0 erreur sur validator.w3.org)
- [ ] Responsive test√© : 320px / 768px / 1920px
- [ ] Navigation clavier fonctionnelle (Tab, Enter)
- [ ] Contrastes couleurs ‚â•4.5:1 (WebAIM Contrast Checker)
- [ ] Poids total < 150 KB
- [ ] Aucune d√©pendance externe (CDN, Google Fonts)
- [ ] Fonctionne offline √† 100%
- [ ] Tous objectifs p√©dagogiques int√©gr√©s
- [ ] Contenu adapt√© √† l'√¢ge ${ageRanges.join(', ')}
- [ ] Langue(s) ${languages.join(', ')} impl√©ment√©e(s) correctement
- [ ] Chronom√®tre fonctionnel (si activ√©)
- [ ] Statistiques op√©rationnelles (si activ√©es)
- [ ] Assistance parentale accessible et pertinente (si activ√©e)
- [ ] Commentaires en-t√™te pr√©sents et complets
- [ ] Version ${projectVersion} mentionn√©e dans code

---

**‚è© COMMENCE MAINTENANT le html ! le fichier doit fontioner meme si il manque d autre fichier qui sont relier ,comme des image ou des fichier de son ...**`;
            
            // Affichage dans modal
            document.getElementById('promptOutputModal').textContent = prompt;
            openResultModal();
        }
        
        function generateTextPrompt() {
            // Ancienne fonction de g√©n√©ration de prompt texte (conserv√©e pour compatibilit√©)
            // ... (le code original de g√©n√©ration de prompt texte)
            
            // Pour l'exemple, j'utilise une version simplifi√©e
            const prompt = `# PROMPT TEXTE (ANCIEN FORMAT)
            
Ceci est l'ancien format texte. Le format JSON est recommand√© pour de meilleurs r√©sultats avec les IA modernes.

Utilisez le format JSON pour une meilleure structuration des donn√©es.`;
            
            document.getElementById('promptOutputModal').textContent = prompt;
            openResultModal();
        }
        
        // ===== COPIER PROMPT MODAL =====
        document.getElementById('copyBtnModal').addEventListener('click', function() {
            const promptText = document.getElementById('promptOutputModal').textContent;
            const btn = this;
            
            btn.classList.add('loading');
            btn.disabled = true;
            
            navigator.clipboard.writeText(promptText).then(() => {
                setTimeout(() => {
                    btn.classList.remove('loading');
                    btn.classList.add('copy-success');
                    btn.innerHTML = '<span>‚úÖ Copi√© avec succ√®s !</span>';
                    
                    setTimeout(() => {
                        btn.classList.remove('copy-success');
                        btn.innerHTML = '<span class="spinner"></span><span>üìã Copier le Prompt</span>';
                        btn.disabled = false;
                    }, 2500);
                }, 300);
            }).catch(err => {
                btn.classList.remove('loading');
                btn.disabled = false;
                alert('‚ùå Erreur lors de la copie. S√©lectionnez manuellement le texte.');
                console.error('Erreur copie:', err);
            });
        });
        
        // ===== T√âL√âCHARGER TXT MODAL =====
        document.getElementById('downloadBtnModal').addEventListener('click', function() {
            const promptText = document.getElementById('promptOutputModal').textContent;
            const blob = new Blob([promptText], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            
            const theme = document.getElementById('theme').value.replace(/[^a-z0-9]/gi, '_').toLowerCase();
            const creator = document.getElementById('creatorName').value.replace(/[^a-z0-9]/gi, '_').toLowerCase();
            const version = document.getElementById('projectVersion').value.replace(/[^a-z0-9.]/gi, '');
            const timestamp = new Date().toISOString().slice(0,10);
            
            a.href = url;
            a.download = `prompt_${theme}_${creator}_${version}_${timestamp}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });
        
        // ===== RESET FORM =====
        document.getElementById('promptForm').addEventListener('reset', function() {
            setTimeout(() => {
                clearErrors();
                // R√©initialiser date
                document.getElementById('creationDate').value = new Date().toLocaleDateString('fr-FR', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                // Garder le nom sauvegard√©
                const savedName = localStorage.getItem(STORAGE_KEY_NAME);
                if (savedName) {
                    document.getElementById('creatorName').value = savedName;
                }
                // Mettre √† jour l'aper√ßu JSON
                updateJsonPreview();
            }, 100);
        });
    </script>
</body>
</html>
