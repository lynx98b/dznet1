<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DzNet1 - أداة التصنيف</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .url-helper {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .url-preview {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #4caf50;
        }
        .url-examples {
            background: #fff3e0;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .granularity-option {
            background: white;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
        }
        .granularity-option:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }
        .granularity-option.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <!-- Toggle Language -->
    <div class="lang-toggle" onclick="toggleLanguage()">
        <span id="langText">🇩🇿 Français</span>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo">
                <span class="logo-icon"></span>
                <span class="logo-text">
                    <span class="dz">Dz</span><span class="net">Net1</span><span class="com">.com</span>
                </span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link" data-ar="الرئيسية" data-fr="Accueil">الرئيسية</a></li>
                <li><a href="filtres.html" class="nav-link" data-ar="الفلاتر المجتمعية" data-fr="Filtres Communautaires">الفلاتر المجتمعية</a></li>
                <li><a href="enfants.html" class="nav-link" data-ar="بوابة الأطفال" data-fr="Portail Enfants">بوابة الأطفال</a></li>
                <li><a href="faq.html" class="nav-link" data-ar="الأسئلة الشائعة" data-fr="FAQ">الأسئلة الشائعة</a></li>
                <li><a href="categorisation.html" class="nav-link active" data-ar="التصنيف" data-fr="Catégorisation">التصنيف</a></li>
                <li><a href="contact.html" class="nav-link" data-ar="اتصل بنا" data-fr="Contact">اتصل بنا</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero">
        <h1>
            <span class="hero-icon" style="font-size: 48px;">🔍</span>
            <span data-ar="أداة التصنيف" data-fr="Outil de Catégorisation">أداة التصنيف</span>
        </h1>
        <p data-ar="ساعد المجتمع في تصنيف المواقع في الفئات الصحيحة" data-fr="Aidez la communauté à classer les sites web dans les bonnes catégories">ساعد المجتمع في تصنيف المواقع في الفئات الصحيحة</p>
    </div>

    <!-- Hero Section -->
<div class="hero">
    <h1>
        <span class="hero-icon" style="font-size: 48px;">🔍</span>
        <span data-ar="أداة التصنيف" data-fr="Outil de Catégorisation">أداة التصنيف</span>
    </h1>
    <p data-ar="ساعد المجتمع في تصنيف المواقع في الفئات الصحيحة" data-fr="Aidez la communauté à classer les sites web dans les bonnes catégories">
        ساعد المجتمع في تصنيف المواقع في الفئات الصحيحة
    </p>
</div>

<div class="container">
    <!-- ✅ Intégration directe de ton application Anvil -->
    <div id="anvilAppContainer" style="text-align:center; margin:30px 0;">
        <iframe
            src="https://catdznet1.anvil.app/"
            style="width:100%; height:90vh; border:none; border-radius:15px; box-shadow:0 0 20px rgba(0,0,0,0.15);"
            allowfullscreen
            sandbox="allow-scripts allow-same-origin allow-forms"
        ></iframe>
    </div>
</div>

    <script src="script.js"></script>
    <script>
        // ==================== CHARGEMENT DES DONNÉES AU DÉMARRAGE ====================
        
        document.addEventListener('DOMContentLoaded', function() {
            loadStatistics();
            loadRecentSites();
        });

        // Charger les statistiques
        async function loadStatistics() {
            try {
                const response = await fetch('https://cat-dznet1.anvil.app/_/api/stats');
                const data = await response.json();
                
                if (data.success) {
                    document.getElementById('totalSites').textContent = data.total.toLocaleString('fr-FR');
                    document.getElementById('safeSites').textContent = data.by_status.safe.toLocaleString('fr-FR');
                    document.getElementById('warningSites').textContent = data.by_status.warning.toLocaleString('fr-FR');
                    document.getElementById('dangerSites').textContent = data.by_status.danger.toLocaleString('fr-FR');
                    document.getElementById('pendingSites').textContent = data.pending_validation.toLocaleString('fr-FR');
                }
            } catch (error) {
                console.error('Erreur chargement stats:', error);
            }
        }

        // Charger les derniers sites
        async function loadRecentSites() {
            const currentLang = document.documentElement.getAttribute('lang') || 'ar';
            const t = translations[currentLang];
            
            try {
                const response = await fetch('https://cat-dznet1.anvil.app/_/api/recent_sites');
                const data = await response.json();
                
                const tbody = document.getElementById('recentSitesTable');
                
                if (!data.success || data.sites.length === 0) {
                    tbody.innerHTML = `
                        <tr>
                            <td colspan="6" style="padding: 20px; text-align: center; color: #999;">
                                ${currentLang === 'ar' ? 'لا توجد مواقع بعد' : 'Aucun site pour le moment'}
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                let html = '';
                data.sites.forEach(site => {
                    const categoryName = t.categories[site.category] || site.category;
                    const statusName = t.statuses[site.status] || site.status;
                    const validationName = t.statuses[site.validation_status] || site.validation_status;
                    
                    // Couleurs selon le statut
                    const statusColor = {
                        'safe': { bg: '#d4edda', color: '#155724' },
                        'warning': { bg: '#fff3cd', color: '#856404' },
                        'danger': { bg: '#f8d7da', color: '#721c24' }
                    }[site.status] || { bg: '#e2e3e5', color: '#383d41' };
                    
                    const validationColor = {
                        'pending': { bg: '#fff3cd', color: '#856404' },
                        'validated': { bg: '#d4edda', color: '#155724' },
                        'rejected': { bg: '#f8d7da', color: '#721c24' }
                    }[site.validation_status] || { bg: '#e2e3e5', color: '#383d41' };
                    
                    // Formater la date
                    const date = site.created_date ? 
                        new Date(site.created_date).toLocaleString(currentLang === 'ar' ? 'ar-DZ' : 'fr-FR', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit'
                        }) : '—';
                    
                    html += `
                        <tr>
                            <td style="padding: 12px; border-bottom: 1px solid #dee2e6; text-align: center; font-family: monospace;">
                                ${site.domain}
                            </td>
                            <td style="padding: 12px; border-bottom: 1px solid #dee2e6; text-align: center;">
                                <span style="background: ${statusColor.bg}; color: ${statusColor.color}; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 600;">
                                    ${categoryName}
                                </span>
                            </td>
                            <td style="padding: 12px; border-bottom: 1px solid #dee2e6; text-align: center;">
                                <span style="background: ${statusColor.bg}; color: ${statusColor.color}; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 600;">
                                    ${statusName}
                                </span>
                            </td>
                            <td style="padding: 12px; border-bottom: 1px solid #dee2e6; text-align: center;">
                                <span style="background: ${validationColor.bg}; color: ${validationColor.color}; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 600;">
                                    ${validationName}
                                </span>
                            </td>
                            <td style="padding: 12px; border-bottom: 1px solid #dee2e6; text-align: center; font-size: 13px;">
                                ${date}
                            </td>
                            <td style="padding: 12px; border-bottom: 1px solid #dee2e6; text-align: center;">
                                ${site.reported_by}
                            </td>
                        </tr>
                    `;
                });
                
                tbody.innerHTML = html;
                
            } catch (error) {
                console.error('Erreur chargement sites récents:', error);
                const tbody = document.getElementById('recentSitesTable');
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="padding: 20px; text-align: center; color: #dc3545;">
                            ❌ ${currentLang === 'ar' ? 'خطأ في تحميل البيانات' : 'Erreur de chargement'}
                        </td>
                    </tr>
                `;
            }
        }

        // ==================== DICTIONNAIRES DE TRADUCTION ====================
        
        const translations = {
            ar: {
                categories: {
                    safe: 'آمن', education: 'تعليمي', kids: 'أطفال',
                    news: 'أخبار', social: 'شبكات اجتماعية', gaming: 'ألعاب',
                    shopping: 'تسوق', streaming: 'بث مباشر', government: 'حكومي',
                    banking: 'بنوك', religion: 'ديني', health: 'صحة',
                    sports: 'رياضة', entertainment: 'ترفيه', adult: 'محتوى بالغين',
                    violence: 'عنف', gambling: 'قمار', drugs: 'مخدرات',
                    malware: 'برمجيات خبيثة', phishing: 'احتيال',
                    hate: 'خطاب كراهية', weapons: 'أسلحة'
                },
                statuses: {
                    safe: 'آمن', warning: 'تحذير', danger: 'خطير',
                    pending: 'قيد المراجعة', validated: 'تم التحقق', rejected: 'مرفوض'
                },
                descriptions: {
                    education: "مواقع تعليمية تحتوي على دروس، محاضرات، كتب إلكترونية.",
                    kids: "مواقع مخصصة للأطفال مع محتوى آمن ومناسب للأعمار الصغيرة.",
                    news: "مواقع الأخبار والصحافة.",
                    social: "شبكات التواصل الاجتماعي.",
                    gaming: "مواقع الألعاب الإلكترونية.",
                    adult: "محتوى للبالغين فقط.",
                    violence: "مواقع تحتوي على مشاهد عنف.",
                    gambling: "مواقع القمار والمراهنات.",
                    drugs: "مواقع تروج للمخدرات أو الكحول.",
                    shopping: "مواقع التسوق الإلكتروني.",
                    streaming: "مواقع البث المباشر للفيديو.",
                    government: "مواقع حكومية رسمية.",
                    banking: "مواقع البنوك والمؤسسات المالية.",
                    religion: "مواقع دينية.",
                    health: "مواقع طبية وصحية."
                }
            },
            fr: {
                categories: {
                    safe: 'Sûr', education: 'Éducatif', kids: 'Enfants',
                    news: 'Actualités', social: 'Réseaux sociaux', gaming: 'Jeux',
                    shopping: 'Shopping', streaming: 'Streaming', government: 'Gouvernemental',
                    banking: 'Banques', religion: 'Religieux', health: 'Santé',
                    sports: 'Sports', entertainment: 'Divertissement', adult: 'Contenu adulte',
                    violence: 'Violence', gambling: "Jeux d'argent", drugs: 'Drogues',
                    malware: 'Malware', phishing: 'Hameçonnage',
                    hate: 'Discours haineux', weapons: 'Armes'
                },
                statuses: {
                    safe: 'Sûr', warning: 'Attention', danger: 'Dangereux',
                    pending: 'En révision', validated: 'Validé', rejected: 'Rejeté'
                },
                descriptions: {
                    education: "Sites éducatifs avec cours, conférences, livres.",
                    kids: "Sites pour enfants avec contenu adapté.",
                    news: "Sites d'actualités et journalisme.",
                    social: "Réseaux sociaux.",
                    gaming: "Sites de jeux vidéo.",
                    adult: "Contenu pour adultes.",
                    violence: "Sites avec violence.",
                    gambling: "Sites de jeux d'argent.",
                    drugs: "Sites faisant la promotion de drogues.",
                    shopping: "Sites de commerce électronique.",
                    streaming: "Sites de diffusion vidéo.",
                    government: "Sites gouvernementaux.",
                    banking: "Sites bancaires.",
                    religion: "Sites religieux.",
                    health: "Sites médicaux."
                }
            }
        };

        let selectedTarget = null;

        // ==================== ANALYSE INTELLIGENTE D'URL ====================
        
        function parseURL(input) {
            try {
                input = input.trim().toLowerCase();
                
                if (!input.match(/^https?:\/\//)) {
                    input = 'https://' + input;
                }
                
                const url = new URL(input);
                const hostname = url.hostname.replace(/^www\./, '');
                const parts = hostname.split('.');
                
                let mainDomain, subdomain;
                
                if (parts.length >= 2) {
                    mainDomain = parts.slice(-2).join('.');
                    if (parts.length > 2) {
                        subdomain = parts.slice(0, -2).join('.');
                    } else {
                        subdomain = null;
                    }
                } else {
                    mainDomain = hostname;
                    subdomain = null;
                }
                
                const path = url.pathname !== '/' ? url.pathname : null;
                
                return {
                    full: hostname,
                    mainDomain: mainDomain,
                    subdomain: subdomain,
                    fullSubdomain: subdomain ? `${subdomain}.${mainDomain}` : null,
                    path: path,
                    original: input
                };
            } catch (e) {
                return null;
            }
        }

        // ==================== ÉCOUTER LES CHANGEMENTS D'URL ====================
        
        document.getElementById('domainInput').addEventListener('input', function(e) {
            const parsed = parseURL(e.target.value);
            
            if (!parsed) {
                document.getElementById('urlPreview').style.display = 'none';
                return;
            }
            
            document.getElementById('urlPreview').style.display = 'block';
            document.getElementById('mainDomain').textContent = parsed.mainDomain;
            document.getElementById('subdomain').textContent = parsed.subdomain || '(لا يوجد)';
            document.getElementById('urlPath').textContent = parsed.path || '(لا يوجد)';
            
            const optionsHTML = generateGranularityOptions(parsed);
            document.getElementById('granularityOptions').innerHTML = optionsHTML;
            
            selectDefaultOption(parsed);
        });

        function generateGranularityOptions(parsed) {
            const currentLang = document.documentElement.getAttribute('lang') || 'ar';
            let html = '';
            
            // Option 1 : Domaine complet
            html += `
                <div class="granularity-option" data-target="${parsed.mainDomain}" data-level="domain">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <strong style="color: #d32f2f;">🌐 ${currentLang === 'ar' ? 'الموقع الكامل' : 'Site complet'}: ${parsed.mainDomain}</strong><br>
                            <small style="color: #666;">${currentLang === 'ar' ? 'سيحظر جميع الصفحات والنطاقات الفرعية' : 'Bloque tout le site'}</small>
                        </div>
                        <div style="background: #ffebee; padding: 8px 12px; border-radius: 6px; color: #c62828; font-weight: bold;">
                            ${currentLang === 'ar' ? 'عريض جداً' : 'Trop large'}
                        </div>
                    </div>
                </div>
            `;
            
            // Option 2 : Sous-domaine
            if (parsed.fullSubdomain) {
                html += `
                    <div class="granularity-option" data-target="${parsed.fullSubdomain}" data-level="subdomain">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div>
                                <strong style="color: #f57c00;">📍 ${currentLang === 'ar' ? 'النطاق الفرعي' : 'Sous-domaine'}: ${parsed.fullSubdomain}</strong><br>
                                <small style="color: #666;">${currentLang === 'ar' ? 'سيحظر هذا النطاق الفرعي فقط' : 'Bloque seulement ce sous-domaine'}</small>
                            </div>
                            <div style="background: #fff3e0; padding: 8px 12px; border-radius: 6px; color: #e65100; font-weight: bold;">
                                ${currentLang === 'ar' ? 'موصى به' : 'Recommandé'}
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // Option 3 : Chemin
            if (parsed.path) {
                html += `
                    <div class="granularity-option" data-target="${parsed.full}${parsed.path}" data-level="path">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div>
                                <strong style="color: #7b1fa2;">🎯 ${currentLang === 'ar' ? 'صفحة محددة' : 'Page spécifique'}: ${parsed.full}${parsed.path}</strong><br>
                                <small style="color: #666;">${currentLang === 'ar' ? 'سيحظر هذه الصفحة بالتحديد' : 'Bloque seulement cette page'}</small>
                            </div>
                            <div style="background: #f3e5f5; padding: 8px 12px; border-radius: 6px; color: #6a1b9a; font-weight: bold;">
                                ${currentLang === 'ar' ? 'دقيق جداً' : 'Très précis'}
                            </div>
                        </div>
                    </div>
                `;
            }
            
            return html;
        }

        function selectDefaultOption(parsed) {
            let defaultTarget;
            
            if (parsed.path) {
                defaultTarget = `${parsed.full}${parsed.path}`;
            } else if (parsed.fullSubdomain) {
                defaultTarget = parsed.fullSubdomain;
            } else {
                defaultTarget = parsed.mainDomain;
            }
            
            setTimeout(() => {
                const option = document.querySelector(`[data-target="${defaultTarget}"]`);
                if (option) option.click();
            }, 100);
        }

        // ==================== GESTION DES OPTIONS ====================
        
        document.addEventListener('click', function(e) {
            if (e.target.closest('.granularity-option')) {
                const option = e.target.closest('.granularity-option');
                const currentLang = document.documentElement.getAttribute('lang') || 'ar';
                
                document.querySelectorAll('.granularity-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                option.classList.add('selected');
                selectedTarget = option.dataset.target;
                
                const warningBox = document.getElementById('warningBox');
                const warningText = document.getElementById('warningText');
                
                if (option.dataset.level === 'domain') {
                    warningBox.style.display = 'block';
                    warningText.textContent = currentLang === 'ar' ? 
                        `تحظير ${selectedTarget} سيمنع الوصول لكل الموقع! تأكد أن هذا ما تريده.` :
                        `Bloquer ${selectedTarget} empêchera l'accès à tout le site !`;
                } else {
                    warningBox.style.display = 'none';
                }
            }
        });

        // ==================== DESCRIPTION CATÉGORIE ====================
        
        document.getElementById('categorySelect').addEventListener('change', function() {
            const category = this.value;
            const descDiv = document.getElementById('categoryDescription');
            const descText = document.getElementById('descriptionText');
            const currentLang = document.documentElement.getAttribute('lang') || 'ar';
            
            if (category && translations[currentLang].descriptions[category]) {
                descText.textContent = translations[currentLang].descriptions[category];
                descDiv.style.display = 'block';
            } else {
                descDiv.style.display = 'none';
            }
        });

        // ==================== SOUMISSION DU FORMULAIRE ====================
        
        document.getElementById('siteForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const currentLang = document.documentElement.getAttribute('lang') || 'ar';
            
            if (!selectedTarget) {
                alert(currentLang === 'ar' ? 
                    '⚠️ يرجى اختيار ما تريد تصنيفه بالضبط' : 
                    '⚠️ Veuillez choisir ce que vous voulez catégoriser');
                return;
            }
            
            const category = document.getElementById('categorySelect').value;
            const reason = document.getElementById('reasonInput').value;
            const contributor = document.getElementById('contributorInput').value;
            const resultCard = document.getElementById('resultCard');
            
            resultCard.style.display = 'block';
            resultCard.innerHTML = '<div style="text-align: center; padding: 20px;"><b>⏳ ' + 
                (currentLang === 'ar' ? 'جاري الإرسال...' : 'Envoi en cours...') + 
                '</b></div>';
            
            try {
                const response = await fetch('https://cat-dznet1.anvil.app/_/api/check_or_submit', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        domain: selectedTarget,
                        category: category,
                        reason: reason,
                        contributor: contributor
                    })
                });
                
                const data = await response.json();
                
                if (!data.success) {
                    resultCard.innerHTML = `
                        <div style="background: #ffebee; padding: 20px; border-radius: 12px; color: #c62828;">
                            ❌ ${data.message || data.error}
                        </div>
                    `;
                    return;
                }
                
                displayResult(data);
                
                // ✨ NOUVEAU : Recharger les statistiques et la liste après ajout
                if (data.action === 'created') {
                    setTimeout(() => {
                        loadStatistics();
                        loadRecentSites();
                    }, 1000);
                }
                
            } catch (error) {
                console.error(error);
                resultCard.innerHTML = `
                    <div style="background: #ffebee; padding: 20px; border-radius: 12px; color: #c62828;">
                        ⚠️ ${currentLang === 'ar' ? 'خطأ في الاتصال بالخادم' : 'Erreur de connexion au serveur'}
                    </div>
                `;
            }
        });

        function displayResult(data) {
            const resultCard = document.getElementById('resultCard');
            const currentLang = document.documentElement.getAttribute('lang') || 'ar';
            const t = translations[currentLang];
            
            const categoryName = t.categories[data.category] || data.category;
            const statusName = t.statuses[data.status] || data.status;
            const validationStatusName = t.statuses[data.validation_status] || data.validation_status;
            
            let message = '';
            if (data.action === 'found') {
                message = currentLang === 'ar' ? 
                    '✅ الموقع موجود في قاعدة البيانات' : 
                    '✅ Site trouvé dans la base de données';
            } else if (data.action === 'created') {
                message = currentLang === 'ar' ? 
                    '🎉 تم إضافة الموقع بنجاح! قيد المراجعة.' : 
                    '🎉 Site ajouté avec succès ! En cours de révision.';
            }
            
            resultCard.innerHTML = `
                <div style="background: white; border-radius: 12px; padding: 20px; text-align: right; direction: rtl;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h3 style="color: #004080;">🌐 ${data.domain}</h3>
                        <p style="color: #28a745; font-weight: bold;">${message}</p>
                    </div>
                    
                    <table style="width: 100%; border-collapse: collapse; font-size: 15px;">
                        <tr>
                            <td style="padding: 8px; font-weight: bold;">📁 ${currentLang === 'ar' ? 'الفئة' : 'Catégorie'}:</td>
                            <td style="padding: 8px;">${categoryName}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold;">📊 ${currentLang === 'ar' ? 'الحالة' : 'Statut'}:</td>
                            <td style="padding: 8px;">${statusName}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold;">✅ ${currentLang === 'ar' ? 'حالة التحقق' : 'Validation'}:</td>
                            <td style="padding: 8px;">${validationStatusName}</td>
                        </tr>
                        ${data.description ? `
                        <tr>
                            <td style="padding: 8px; font-weight: bold;">📝 ${currentLang === 'ar' ? 'الوصف' : 'Description'}:</td>
                            <td style="padding: 8px;">${data.description}</td>
                        </tr>
                        ` : ''}
                        <tr>
                            <td style="padding: 8px; font-weight: bold;">🛡️ ${currentLang === 'ar' ? 'مستوى الثقة' : 'Score'}:</td>
                            <td style="padding: 8px;">${data.trust_score}%</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; font-weight: bold;">👤 ${currentLang === 'ar' ? 'المبلّغ' : 'Rapporté par'}:</td>
                            <td style="padding: 8px;">${data.reported_by || 'مجهول'}</td>
                        </tr>
                        ${data.created_date ? `
                        <tr>
                            <td style="padding: 8px; font-weight: bold;">📅 ${currentLang === 'ar' ? 'تاريخ الإضافة' : 'Date'}:</td>
                            <td style="padding: 8px;">${new Date(data.created_date).toLocaleString(currentLang === 'ar' ? 'ar-DZ' : 'fr-FR')}</td>
                        </tr>
                        ` : ''}
                    </table>
                </div>
            `;
        }
    </script>
    </script>
</body>
</html>
